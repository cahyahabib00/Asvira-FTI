From ce4101277907d8893fff68c77372e08cafa1e629 Mon Sep 17 00:00:00 2001
From: Cahya Habib <habib56@gmail.com>
Date: Tue, 5 Aug 2025 07:47:45 +0000
Subject: [PATCH] Update production server: Fix database issues, improve
 chatbot, and optimize deployment

---
 .editorconfig                                                     | 0
 .env.example                                                      | 0
 .eslintrc.js                                                      | 0
 .gitattributes                                                    | 0
 .github/workflows/ci.yml                                          | 0
 .gitignore                                                        | 0
 .nvmrc                                                            | 0
 .php-cs-fixer.php                                                 | 0
 .prettierrc                                                       | 0
 DEPLOYMENT.md                                                     | 0
 Dockerfile                                                        | 0
 README.md                                                         | 0
 app/Console/Commands/CheckChatbotData.php                         | 0
 app/Http/Controllers/AuthController.php                           | 0
 app/Http/Controllers/ChatbotController.php                        | 0
 app/Http/Controllers/Controller.php                               | 0
 app/Http/Controllers/KnowledgeBaseController.php                  | 0
 app/Http/Middleware/AdminMiddleware.php                           | 0
 app/Models/KnowledgeBase.php                                      | 0
 app/Models/QuestionLog.php                                        | 0
 app/Models/User.php                                               | 0
 app/Providers/AppServiceProvider.php                              | 0
 app/Services/OpenRouterService.php                                | 0
 bootstrap/app.php                                                 | 0
 bootstrap/cache/.gitignore                                        | 0
 bootstrap/providers.php                                           | 0
 composer.json                                                     | 0
 composer.lock                                                     | 0
 config/app.php                                                    | 0
 config/auth.php                                                   | 0
 config/cache.php                                                  | 0
 config/database.php                                               | 0
 config/filesystems.php                                            | 0
 config/logging.php                                                | 0
 config/mail.php                                                   | 0
 config/queue.php                                                  | 0
 config/services.php                                               | 0
 config/session.php                                                | 0
 cookies.txt                                                       | 0
 database/.gitignore                                               | 0
 database/factories/UserFactory.php                                | 0
 database/migrations/0001_01_01_000000_create_users_table.php      | 0
 database/migrations/0001_01_01_000001_create_cache_table.php      | 0
 database/migrations/0001_01_01_000002_create_jobs_table.php       | 0
 .../migrations/2025_07_01_144108_create_knowledge_bases_table.php | 0
 .../migrations/2025_07_23_034600_create_question_logs_table.php   | 0
 database/seeders/DatabaseSeeder.php                               | 0
 deploy.sh                                                         | 0
 docker-compose.yml                                                | 0
 docker/mysql/my.cnf                                               | 0
 docker/nginx/conf.d/app.conf                                      | 0
 docker/php/local.ini                                              | 0
 docker/supervisord.conf                                           | 0
 package-lock.json                                                 | 0
 package.json                                                      | 0
 phpunit.xml                                                       | 0
 pint.json                                                         | 0
 public/.htaccess                                                  | 0
 public/css/filament/filament/app.css                              | 0
 public/css/filament/forms/forms.css                               | 0
 public/css/filament/support/support.css                           | 0
 public/favicon.ico                                                | 0
 public/index.php                                                  | 0
 public/js/filament/filament/app.js                                | 0
 public/js/filament/filament/echo.js                               | 0
 public/js/filament/forms/components/color-picker.js               | 0
 public/js/filament/forms/components/date-time-picker.js           | 0
 public/js/filament/forms/components/file-upload.js                | 0
 public/js/filament/forms/components/key-value.js                  | 0
 public/js/filament/forms/components/markdown-editor.js            | 0
 public/js/filament/forms/components/rich-editor.js                | 0
 public/js/filament/forms/components/select.js                     | 0
 public/js/filament/forms/components/tags-input.js                 | 0
 public/js/filament/forms/components/textarea.js                   | 0
 public/js/filament/notifications/notifications.js                 | 0
 public/js/filament/support/support.js                             | 0
 public/js/filament/tables/components/table.js                     | 0
 public/js/filament/widgets/components/chart.js                    | 0
 .../js/filament/widgets/components/stats-overview/stat/chart.js   | 0
 public/robots.txt                                                 | 0
 resources/css/app.css                                             | 0
 resources/js/app.js                                               | 0
 resources/js/bootstrap.js                                         | 0
 resources/views/auth/login.blade.php                              | 0
 resources/views/chatbot.blade.php                                 | 0
 resources/views/knowledge-base/create.blade.php                   | 0
 resources/views/knowledge-base/edit.blade.php                     | 0
 resources/views/knowledge-base/index.blade.php                    | 0
 resources/views/welcome.blade.php                                 | 0
 routes/console.php                                                | 0
 routes/web.php                                                    | 0
 setup-domain-ssl.sh                                               | 0
 setup-vps-domain.sh                                               | 0
 setup-vps-fixed.sh                                                | 0
 tailwind.config.js                                                | 0
 tests/Asvira/ChatbotTest.php                                      | 0
 tests/Feature/ExampleTest.php                                     | 0
 tests/Pest.php                                                    | 0
 tests/TestCase.php                                                | 0
 tests/Unit/ExampleTest.php                                        | 0
 update-api-key.sh                                                 | 0
 vite.config.js                                                    | 0
 102 files changed, 0 insertions(+), 0 deletions(-)
 mode change 100644 => 100755 .editorconfig
 mode change 100644 => 100755 .env.example
 mode change 100644 => 100755 .eslintrc.js
 mode change 100644 => 100755 .gitattributes
 mode change 100644 => 100755 .github/workflows/ci.yml
 mode change 100644 => 100755 .gitignore
 mode change 100644 => 100755 .nvmrc
 mode change 100644 => 100755 .php-cs-fixer.php
 mode change 100644 => 100755 .prettierrc
 mode change 100644 => 100755 DEPLOYMENT.md
 mode change 100644 => 100755 Dockerfile
 mode change 100644 => 100755 README.md
 mode change 100644 => 100755 app/Console/Commands/CheckChatbotData.php
 mode change 100644 => 100755 app/Http/Controllers/AuthController.php
 mode change 100644 => 100755 app/Http/Controllers/ChatbotController.php
 mode change 100644 => 100755 app/Http/Controllers/Controller.php
 mode change 100644 => 100755 app/Http/Controllers/KnowledgeBaseController.php
 mode change 100644 => 100755 app/Http/Middleware/AdminMiddleware.php
 mode change 100644 => 100755 app/Models/KnowledgeBase.php
 mode change 100644 => 100755 app/Models/QuestionLog.php
 mode change 100644 => 100755 app/Models/User.php
 mode change 100644 => 100755 app/Providers/AppServiceProvider.php
 mode change 100644 => 100755 app/Services/OpenRouterService.php
 mode change 100644 => 100755 bootstrap/app.php
 mode change 100644 => 100755 bootstrap/cache/.gitignore
 mode change 100644 => 100755 bootstrap/providers.php
 mode change 100644 => 100755 composer.json
 mode change 100644 => 100755 composer.lock
 mode change 100644 => 100755 config/app.php
 mode change 100644 => 100755 config/auth.php
 mode change 100644 => 100755 config/cache.php
 mode change 100644 => 100755 config/database.php
 mode change 100644 => 100755 config/filesystems.php
 mode change 100644 => 100755 config/logging.php
 mode change 100644 => 100755 config/mail.php
 mode change 100644 => 100755 config/queue.php
 mode change 100644 => 100755 config/services.php
 mode change 100644 => 100755 config/session.php
 mode change 100644 => 100755 cookies.txt
 mode change 100644 => 100755 database/.gitignore
 mode change 100644 => 100755 database/factories/UserFactory.php
 mode change 100644 => 100755 database/migrations/0001_01_01_000000_create_users_table.php
 mode change 100644 => 100755 database/migrations/0001_01_01_000001_create_cache_table.php
 mode change 100644 => 100755 database/migrations/0001_01_01_000002_create_jobs_table.php
 mode change 100644 => 100755 database/migrations/2025_07_01_144108_create_knowledge_bases_table.php
 mode change 100644 => 100755 database/migrations/2025_07_23_034600_create_question_logs_table.php
 mode change 100644 => 100755 database/seeders/DatabaseSeeder.php
 mode change 100644 => 100755 deploy.sh
 mode change 100644 => 100755 docker-compose.yml
 mode change 100644 => 100755 docker/mysql/my.cnf
 mode change 100644 => 100755 docker/nginx/conf.d/app.conf
 mode change 100644 => 100755 docker/php/local.ini
 mode change 100644 => 100755 docker/supervisord.conf
 mode change 100644 => 100755 package-lock.json
 mode change 100644 => 100755 package.json
 mode change 100644 => 100755 phpunit.xml
 mode change 100644 => 100755 pint.json
 mode change 100644 => 100755 public/.htaccess
 mode change 100644 => 100755 public/css/filament/filament/app.css
 mode change 100644 => 100755 public/css/filament/forms/forms.css
 mode change 100644 => 100755 public/css/filament/support/support.css
 mode change 100644 => 100755 public/favicon.ico
 mode change 100644 => 100755 public/index.php
 mode change 100644 => 100755 public/js/filament/filament/app.js
 mode change 100644 => 100755 public/js/filament/filament/echo.js
 mode change 100644 => 100755 public/js/filament/forms/components/color-picker.js
 mode change 100644 => 100755 public/js/filament/forms/components/date-time-picker.js
 mode change 100644 => 100755 public/js/filament/forms/components/file-upload.js
 mode change 100644 => 100755 public/js/filament/forms/components/key-value.js
 mode change 100644 => 100755 public/js/filament/forms/components/markdown-editor.js
 mode change 100644 => 100755 public/js/filament/forms/components/rich-editor.js
 mode change 100644 => 100755 public/js/filament/forms/components/select.js
 mode change 100644 => 100755 public/js/filament/forms/components/tags-input.js
 mode change 100644 => 100755 public/js/filament/forms/components/textarea.js
 mode change 100644 => 100755 public/js/filament/notifications/notifications.js
 mode change 100644 => 100755 public/js/filament/support/support.js
 mode change 100644 => 100755 public/js/filament/tables/components/table.js
 mode change 100644 => 100755 public/js/filament/widgets/components/chart.js
 mode change 100644 => 100755 public/js/filament/widgets/components/stats-overview/stat/chart.js
 mode change 100644 => 100755 public/robots.txt
 mode change 100644 => 100755 resources/css/app.css
 mode change 100644 => 100755 resources/js/app.js
 mode change 100644 => 100755 resources/js/bootstrap.js
 mode change 100644 => 100755 resources/views/auth/login.blade.php
 mode change 100644 => 100755 resources/views/chatbot.blade.php
 mode change 100644 => 100755 resources/views/knowledge-base/create.blade.php
 mode change 100644 => 100755 resources/views/knowledge-base/edit.blade.php
 mode change 100644 => 100755 resources/views/knowledge-base/index.blade.php
 mode change 100644 => 100755 resources/views/welcome.blade.php
 mode change 100644 => 100755 routes/console.php
 mode change 100644 => 100755 routes/web.php
 mode change 100644 => 100755 setup-domain-ssl.sh
 mode change 100644 => 100755 setup-vps-domain.sh
 mode change 100644 => 100755 setup-vps-fixed.sh
 mode change 100644 => 100755 tailwind.config.js
 mode change 100644 => 100755 tests/Asvira/ChatbotTest.php
 mode change 100644 => 100755 tests/Feature/ExampleTest.php
 mode change 100644 => 100755 tests/Pest.php
 mode change 100644 => 100755 tests/TestCase.php
 mode change 100644 => 100755 tests/Unit/ExampleTest.php
 mode change 100644 => 100755 update-api-key.sh
 mode change 100644 => 100755 vite.config.js

diff --git a/.editorconfig b/.editorconfig
old mode 100644
new mode 100755
diff --git a/.env.example b/.env.example
old mode 100644
new mode 100755
diff --git a/.eslintrc.js b/.eslintrc.js
old mode 100644
new mode 100755
diff --git a/.gitattributes b/.gitattributes
old mode 100644
new mode 100755
diff --git a/.github/workflows/ci.yml b/.github/workflows/ci.yml
old mode 100644
new mode 100755
diff --git a/.gitignore b/.gitignore
old mode 100644
new mode 100755
diff --git a/.nvmrc b/.nvmrc
old mode 100644
new mode 100755
diff --git a/.php-cs-fixer.php b/.php-cs-fixer.php
old mode 100644
new mode 100755
diff --git a/.prettierrc b/.prettierrc
old mode 100644
new mode 100755
diff --git a/DEPLOYMENT.md b/DEPLOYMENT.md
old mode 100644
new mode 100755
diff --git a/Dockerfile b/Dockerfile
old mode 100644
new mode 100755
diff --git a/README.md b/README.md
old mode 100644
new mode 100755
diff --git a/app/Console/Commands/CheckChatbotData.php b/app/Console/Commands/CheckChatbotData.php
old mode 100644
new mode 100755
diff --git a/app/Http/Controllers/AuthController.php b/app/Http/Controllers/AuthController.php
old mode 100644
new mode 100755
diff --git a/app/Http/Controllers/ChatbotController.php b/app/Http/Controllers/ChatbotController.php
old mode 100644
new mode 100755
diff --git a/app/Http/Controllers/Controller.php b/app/Http/Controllers/Controller.php
old mode 100644
new mode 100755
diff --git a/app/Http/Controllers/KnowledgeBaseController.php b/app/Http/Controllers/KnowledgeBaseController.php
old mode 100644
new mode 100755
diff --git a/app/Http/Middleware/AdminMiddleware.php b/app/Http/Middleware/AdminMiddleware.php
old mode 100644
new mode 100755
diff --git a/app/Models/KnowledgeBase.php b/app/Models/KnowledgeBase.php
old mode 100644
new mode 100755
diff --git a/app/Models/QuestionLog.php b/app/Models/QuestionLog.php
old mode 100644
new mode 100755
diff --git a/app/Models/User.php b/app/Models/User.php
old mode 100644
new mode 100755
diff --git a/app/Providers/AppServiceProvider.php b/app/Providers/AppServiceProvider.php
old mode 100644
new mode 100755
diff --git a/app/Services/OpenRouterService.php b/app/Services/OpenRouterService.php
old mode 100644
new mode 100755
diff --git a/bootstrap/app.php b/bootstrap/app.php
old mode 100644
new mode 100755
diff --git a/bootstrap/cache/.gitignore b/bootstrap/cache/.gitignore
old mode 100644
new mode 100755
diff --git a/bootstrap/providers.php b/bootstrap/providers.php
old mode 100644
new mode 100755
diff --git a/composer.json b/composer.json
old mode 100644
new mode 100755
diff --git a/composer.lock b/composer.lock
old mode 100644
new mode 100755
diff --git a/config/app.php b/config/app.php
old mode 100644
new mode 100755
diff --git a/config/auth.php b/config/auth.php
old mode 100644
new mode 100755
diff --git a/config/cache.php b/config/cache.php
old mode 100644
new mode 100755
diff --git a/config/database.php b/config/database.php
old mode 100644
new mode 100755
diff --git a/config/filesystems.php b/config/filesystems.php
old mode 100644
new mode 100755
diff --git a/config/logging.php b/config/logging.php
old mode 100644
new mode 100755
diff --git a/config/mail.php b/config/mail.php
old mode 100644
new mode 100755
diff --git a/config/queue.php b/config/queue.php
old mode 100644
new mode 100755
diff --git a/config/services.php b/config/services.php
old mode 100644
new mode 100755
diff --git a/config/session.php b/config/session.php
old mode 100644
new mode 100755
diff --git a/cookies.txt b/cookies.txt
old mode 100644
new mode 100755
diff --git a/database/.gitignore b/database/.gitignore
old mode 100644
new mode 100755
diff --git a/database/factories/UserFactory.php b/database/factories/UserFactory.php
old mode 100644
new mode 100755
diff --git a/database/migrations/0001_01_01_000000_create_users_table.php b/database/migrations/0001_01_01_000000_create_users_table.php
old mode 100644
new mode 100755
diff --git a/database/migrations/0001_01_01_000001_create_cache_table.php b/database/migrations/0001_01_01_000001_create_cache_table.php
old mode 100644
new mode 100755
diff --git a/database/migrations/0001_01_01_000002_create_jobs_table.php b/database/migrations/0001_01_01_000002_create_jobs_table.php
old mode 100644
new mode 100755
diff --git a/database/migrations/2025_07_01_144108_create_knowledge_bases_table.php b/database/migrations/2025_07_01_144108_create_knowledge_bases_table.php
old mode 100644
new mode 100755
diff --git a/database/migrations/2025_07_23_034600_create_question_logs_table.php b/database/migrations/2025_07_23_034600_create_question_logs_table.php
old mode 100644
new mode 100755
diff --git a/database/seeders/DatabaseSeeder.php b/database/seeders/DatabaseSeeder.php
old mode 100644
new mode 100755
diff --git a/deploy.sh b/deploy.sh
old mode 100644
new mode 100755
diff --git a/docker-compose.yml b/docker-compose.yml
old mode 100644
new mode 100755
diff --git a/docker/mysql/my.cnf b/docker/mysql/my.cnf
old mode 100644
new mode 100755
diff --git a/docker/nginx/conf.d/app.conf b/docker/nginx/conf.d/app.conf
old mode 100644
new mode 100755
diff --git a/docker/php/local.ini b/docker/php/local.ini
old mode 100644
new mode 100755
diff --git a/docker/supervisord.conf b/docker/supervisord.conf
old mode 100644
new mode 100755
diff --git a/package-lock.json b/package-lock.json
old mode 100644
new mode 100755
diff --git a/package.json b/package.json
old mode 100644
new mode 100755
diff --git a/phpunit.xml b/phpunit.xml
old mode 100644
new mode 100755
diff --git a/pint.json b/pint.json
old mode 100644
new mode 100755
diff --git a/public/.htaccess b/public/.htaccess
old mode 100644
new mode 100755
diff --git a/public/css/filament/filament/app.css b/public/css/filament/filament/app.css
old mode 100644
new mode 100755
diff --git a/public/css/filament/forms/forms.css b/public/css/filament/forms/forms.css
old mode 100644
new mode 100755
diff --git a/public/css/filament/support/support.css b/public/css/filament/support/support.css
old mode 100644
new mode 100755
diff --git a/public/favicon.ico b/public/favicon.ico
old mode 100644
new mode 100755
diff --git a/public/index.php b/public/index.php
old mode 100644
new mode 100755
diff --git a/public/js/filament/filament/app.js b/public/js/filament/filament/app.js
old mode 100644
new mode 100755
diff --git a/public/js/filament/filament/echo.js b/public/js/filament/filament/echo.js
old mode 100644
new mode 100755
diff --git a/public/js/filament/forms/components/color-picker.js b/public/js/filament/forms/components/color-picker.js
old mode 100644
new mode 100755
diff --git a/public/js/filament/forms/components/date-time-picker.js b/public/js/filament/forms/components/date-time-picker.js
old mode 100644
new mode 100755
diff --git a/public/js/filament/forms/components/file-upload.js b/public/js/filament/forms/components/file-upload.js
old mode 100644
new mode 100755
diff --git a/public/js/filament/forms/components/key-value.js b/public/js/filament/forms/components/key-value.js
old mode 100644
new mode 100755
diff --git a/public/js/filament/forms/components/markdown-editor.js b/public/js/filament/forms/components/markdown-editor.js
old mode 100644
new mode 100755
diff --git a/public/js/filament/forms/components/rich-editor.js b/public/js/filament/forms/components/rich-editor.js
old mode 100644
new mode 100755
diff --git a/public/js/filament/forms/components/select.js b/public/js/filament/forms/components/select.js
old mode 100644
new mode 100755
diff --git a/public/js/filament/forms/components/tags-input.js b/public/js/filament/forms/components/tags-input.js
old mode 100644
new mode 100755
diff --git a/public/js/filament/forms/components/textarea.js b/public/js/filament/forms/components/textarea.js
old mode 100644
new mode 100755
diff --git a/public/js/filament/notifications/notifications.js b/public/js/filament/notifications/notifications.js
old mode 100644
new mode 100755
diff --git a/public/js/filament/support/support.js b/public/js/filament/support/support.js
old mode 100644
new mode 100755
diff --git a/public/js/filament/tables/components/table.js b/public/js/filament/tables/components/table.js
old mode 100644
new mode 100755
diff --git a/public/js/filament/widgets/components/chart.js b/public/js/filament/widgets/components/chart.js
old mode 100644
new mode 100755
diff --git a/public/js/filament/widgets/components/stats-overview/stat/chart.js b/public/js/filament/widgets/components/stats-overview/stat/chart.js
old mode 100644
new mode 100755
diff --git a/public/robots.txt b/public/robots.txt
old mode 100644
new mode 100755
diff --git a/resources/css/app.css b/resources/css/app.css
old mode 100644
new mode 100755
diff --git a/resources/js/app.js b/resources/js/app.js
old mode 100644
new mode 100755
diff --git a/resources/js/bootstrap.js b/resources/js/bootstrap.js
old mode 100644
new mode 100755
diff --git a/resources/views/auth/login.blade.php b/resources/views/auth/login.blade.php
old mode 100644
new mode 100755
diff --git a/resources/views/chatbot.blade.php b/resources/views/chatbot.blade.php
old mode 100644
new mode 100755
diff --git a/resources/views/knowledge-base/create.blade.php b/resources/views/knowledge-base/create.blade.php
old mode 100644
new mode 100755
diff --git a/resources/views/knowledge-base/edit.blade.php b/resources/views/knowledge-base/edit.blade.php
old mode 100644
new mode 100755
diff --git a/resources/views/knowledge-base/index.blade.php b/resources/views/knowledge-base/index.blade.php
old mode 100644
new mode 100755
diff --git a/resources/views/welcome.blade.php b/resources/views/welcome.blade.php
old mode 100644
new mode 100755
diff --git a/routes/console.php b/routes/console.php
old mode 100644
new mode 100755
diff --git a/routes/web.php b/routes/web.php
old mode 100644
new mode 100755
diff --git a/setup-domain-ssl.sh b/setup-domain-ssl.sh
old mode 100644
new mode 100755
diff --git a/setup-vps-domain.sh b/setup-vps-domain.sh
old mode 100644
new mode 100755
diff --git a/setup-vps-fixed.sh b/setup-vps-fixed.sh
old mode 100644
new mode 100755
diff --git a/tailwind.config.js b/tailwind.config.js
old mode 100644
new mode 100755
diff --git a/tests/Asvira/ChatbotTest.php b/tests/Asvira/ChatbotTest.php
old mode 100644
new mode 100755
diff --git a/tests/Feature/ExampleTest.php b/tests/Feature/ExampleTest.php
old mode 100644
new mode 100755
diff --git a/tests/Pest.php b/tests/Pest.php
old mode 100644
new mode 100755
diff --git a/tests/TestCase.php b/tests/TestCase.php
old mode 100644
new mode 100755
diff --git a/tests/Unit/ExampleTest.php b/tests/Unit/ExampleTest.php
old mode 100644
new mode 100755
diff --git a/update-api-key.sh b/update-api-key.sh
old mode 100644
new mode 100755
diff --git a/vite.config.js b/vite.config.js
old mode 100644
new mode 100755
-- 
2.43.0

